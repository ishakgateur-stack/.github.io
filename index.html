<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ğŸ¼ The Panda | 10% ÙŠÙˆÙ…ÙŠØ§Ù‹</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0B0E11;
            color: #EAECEF;
            min-height: 100vh;
            line-height: 1.5;
            overflow-x: hidden;
            width: 100%;
            position: relative;
        }

        .mobile-container {
            max-width: 400px;
            width: 100%;
            margin: 0 auto;
            background: #0B0E11;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        :root {
            --binance-bg: #0B0E11;
            --binance-card: #1E2329;
            --binance-gold: #F0B90B;
            --binance-gold-light: #FCD535;
            --binance-gray: #2B3139;
            --binance-text: #EAECEF;
            --binance-text-secondary: #B1B5BA;
            --binance-green: #0ECB81;
            --binance-red: #F6465D;
            --binance-yellow: #F0B90B;
            --sidebar-width: 280px;
            --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius-sm: 12px;
            --border-radius-md: 16px;
            --border-radius-lg: 20px;
        }

        .auth-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(145deg, #0B0E11, #151A1F);
        }
        .auth-card {
            background: #1E2329;
            padding: 30px 24px;
            border: 1px solid #2B3139;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            border-radius: var(--border-radius-lg);
        }
        .cyber-logo {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }
        .cyber-logo .panda-icon {
            font-size: 4rem;
            filter: drop-shadow(0 0 15px #F0B90B);
        }
        .input-cyber {
            background: #2B3139;
            border: 1px solid #3A3F47;
            padding: 18px 20px;
            width: 100%;
            color: white;
            font-size: 1rem;
            margin-bottom: 16px;
            border-radius: var(--border-radius-sm);
        }
        .input-cyber:focus {
            outline: none;
            border-color: var(--binance-gold);
        }
        .select-cyber {
            background: #2B3139;
            border: 1px solid #3A3F47;
            padding: 18px 20px;
            width: 100%;
            color: white;
            font-size: 1rem;
            margin-bottom: 16px;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23F0B90B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: left 20px center;
            background-size: 20px;
            border-radius: var(--border-radius-sm);
        }
        .switch-auth {
            color: var(--binance-gold);
            font-weight: 600;
            text-align: center;
            display: block;
            margin-top: 20px;
            cursor: pointer;
        }
        .hidden {
            display: none !important;
        }
        .terms-box {
            background: #151A1F;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #2B3139;
            max-height: 200px;
            overflow-y: auto;
            border-radius: var(--border-radius-sm);
        }
        .terms-box h4 {
            color: var(--binance-gold);
            margin-bottom: 10px;
        }
        .terms-box p {
            color: #B1B5BA;
            font-size: 0.9rem;
            margin-bottom: 8px;
            line-height: 1.6;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        .checkbox-container input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--binance-gold);
        }

        .sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background: #151A1F;
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(240, 185, 11, 0.15);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            z-index: 2000;
            transform: translateX(100%);
            transition: transform var(--transition);
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
            overflow-y: auto;
            border-radius: var(--border-radius-lg) 0 0 var(--border-radius-lg);
        }

        .sidebar.active {
            transform: translateX(0);
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(240,185,11,0.2);
            padding-bottom: 20px;
            flex-shrink: 0;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .cyber-panda-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(145deg, #2A2F36, #1E2329);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 1px solid var(--binance-gold);
            box-shadow: 0 0 15px rgba(240,185,11,0.2);
            color: #F0B90B;
            border-radius: var(--border-radius-sm);
        }

        .sidebar-logo span {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--binance-gold);
            letter-spacing: -0.5px;
        }

        .close-sidebar {
            background: transparent;
            border: none;
            color: var(--binance-text-secondary);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 10px;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 16px 20px;
            color: var(--binance-text-secondary);
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid transparent;
            border-radius: var(--border-radius-sm);
        }

        .sidebar-item i {
            font-size: 1.3rem;
            width: 28px;
            text-align: center;
        }

        .sidebar-item.active {
            background: rgba(240,185,11,0.08);
            color: var(--binance-gold);
            border-color: rgba(240,185,11,0.2);
        }

        .sidebar-footer {
            margin-top: auto;
            border-top: 1px solid #2B3139;
            padding-top: 30px;
            flex-shrink: 0;
        }

        .telegram-section {
            background: #1E2329;
            padding: 16px;
            margin-bottom: 20px;
            border: 1px solid rgba(240,185,11,0.2);
            border-radius: var(--border-radius-md);
        }

        .telegram-section h4 {
            color: var(--binance-gold);
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .telegram-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #2B3139;
            margin-bottom: 8px;
            cursor: pointer;
            transition: 0.2s;
            border-radius: var(--border-radius-sm);
        }

        .telegram-link:hover {
            background: #3A3F47;
        }

        .telegram-link i {
            color: #27A7E7;
            font-size: 1.3rem;
        }

        .pages-container {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            padding: 0 0 30px 0;
            background: #0B0E11;
            min-height: 100vh;
            display: none;
        }

        .pages-container.logged-in {
            display: block;
        }

        .page {
            display: none;
            width: 100%;
            animation: fadeIn 0.3s ease;
        }

        .page.active-page {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0.5; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .top-bar-mobile {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: #0B0E11;
            border-bottom: 1px solid #2B3139;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo-cyber {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-cyber i {
            font-size: 1.8rem;
            color: var(--binance-gold);
        }

        .logo-cyber span {
            font-weight: 700;
            font-size: 1.2rem;
            color: white;
        }

        .menu-toggle-btn {
            background: #1E2329;
            border: 1px solid #2B3139;
            padding: 10px 16px;
            color: var(--binance-gold);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: var(--border-radius-sm);
        }

        .card-binance {
            background: #1E2329;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid #2B3139;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
            border-radius: var(--border-radius-md);
        }

        .balance-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .balance-number {
            font-size: 2rem;
            font-weight: 700;
            color: white;
        }

        .btn-cyber {
            background: var(--binance-gold);
            border: none;
            color: #0B0E11;
            font-weight: 700;
            padding: 14px 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            border-radius: var(--border-radius-sm);
        }

        .btn-cyber-outline {
            background: transparent;
            border: 1px solid var(--binance-gold);
            color: var(--binance-gold);
        }

        .btn-cyber:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .progress-container {
            background: #151A1F;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 16px;
            position: relative;
            border-radius: var(--border-radius-md);
        }

        .circle-wrapper {
            position: relative;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .circle-svg {
            width: 100px;
            height: 100px;
            transform: rotate(-90deg);
            position: absolute;
            top: 0;
            left: 0;
        }

        .circle-bg {
            stroke: #2B3139;
            stroke-width: 8;
            fill: none;
        }

        .circle-progress {
            stroke: var(--binance-gold);
            stroke-width: 8;
            fill: none;
            stroke-linecap: round;
            stroke-dasharray: 251.2;
            transition: stroke-dashoffset 0.3s;
        }

        .circle-progress.paused {
            stroke: #F6465D;
            opacity: 0.5;
        }

        .panda-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            z-index: 10;
            filter: drop-shadow(0 0 10px #F0B90B);
        }

        .timer-big {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: monospace;
            color: var(--binance-gold);
        }

        .timer-big.paused {
            color: #F6465D;
        }

        .quick-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .quick-item {
            background: #1E2329;
            padding: 14px 5px;
            text-align: center;
            border: 1px solid #2B3139;
            cursor: pointer;
            border-radius: var(--border-radius-sm);
        }

        .quick-item i {
            font-size: 1.4rem;
            color: var(--binance-gold);
            margin-bottom: 6px;
        }

        .quick-item span {
            display: block;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .quick-transfer {
            background: #151A1F;
            padding: 20px;
            margin: 16px 0;
            border: 2px solid var(--binance-gold);
            border-radius: var(--border-radius-md);
        }

        .quick-transfer h4 {
            color: var(--binance-gold);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-transfer p {
            color: #B1B5BA;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .transfer-input-group {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            align-items: center;
        }

        .transfer-input-group input {
            background: #2B3139;
            border: 1px solid #3A3F47;
            padding: 15px;
            color: white;
            font-size: 1rem;
            width: 100%;
            border-radius: var(--border-radius-sm);
        }

        .transfer-input-group input:focus {
            outline: none;
            border-color: var(--binance-gold);
        }

        .transfer-buttons {
            display: flex;
            gap: 10px;
        }

        .transfer-buttons button {
            flex: 1;
            padding: 14px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            border-radius: var(--border-radius-sm);
        }

        .btn-transfer {
            background: var(--binance-gold);
            color: #0B0E11;
        }

        .btn-cancel {
            background: #2B3139;
            color: white;
        }

        .transfer-timer {
            background: #0B0E11;
            padding: 8px 12px;
            display: inline-block;
            margin-top: 10px;
            border: 1px solid var(--binance-gold);
            border-radius: var(--border-radius-sm);
        }

        .payment-step {
            display: none;
            animation: slideIn 0.3s ease;
        }

        .payment-step.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .payment-method-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .payment-method-card {
            background: #151A1F;
            border: 2px solid #2B3139;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: 0.2s;
            border-radius: var(--border-radius-md);
        }

        .payment-method-card.active {
            border-color: var(--binance-gold);
            background: rgba(240,185,11,0.1);
        }

        .payment-method-card i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .copy-number {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #2B3139;
            padding: 15px;
            margin: 15px 0;
            cursor: pointer;
            border: 1px dashed var(--binance-gold);
            border-radius: var(--border-radius-sm);
        }

        .copy-number i {
            color: var(--binance-gold);
            font-size: 1.2rem;
        }

        .back-btn {
            background: transparent;
            border: none;
            color: var(--binance-gold);
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(4px);
            z-index: 1999;
            display: none;
        }

        .sidebar-overlay.active {
            display: block;
        }

        .referral-code-box {
            background: #151A1F;
            padding: 16px;
            font-family: monospace;
            letter-spacing: 2px;
            border: 1px dashed var(--binance-gold);
            text-align: center;
            margin: 16px 0;
            border-radius: var(--border-radius-sm);
        }

        .transaction-badge {
            background: #2B3139;
            padding: 4px 10px;
            font-size: 0.7rem;
            border-radius: 20px;
        }
        
        .invest-info {
            background: #151A1F;
            border: 1px solid rgba(240, 185, 11, 0.2);
            padding: 15px;
            margin: 20px 0 10px 0;
            font-size: 0.9rem;
            border-radius: var(--border-radius-sm);
        }
        .invest-info p {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .invest-info i {
            color: var(--binance-gold);
            width: 20px;
        }
        
        .profit-box {
            background: #151A1F;
            padding: 20px;
            margin-top: 20px;
            border-radius: var(--border-radius-sm);
        }
        
        .sidebar-logout-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            color: #F6465D;
            font-weight: 600;
            cursor: pointer;
            border-top: 1px solid #2B3139;
            margin-top: 10px;
            background: rgba(246, 70, 93, 0.05);
            transition: 0.2s;
            border-radius: var(--border-radius-sm);
        }
        .sidebar-logout-btn:hover {
            background: rgba(246, 70, 93, 0.1);
        }
        .sidebar-logout-btn i {
            font-size: 1.3rem;
            width: 28px;
        }
        
        .transactions-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .transaction-item {
            background: #151A1F;
            padding: 15px;
            margin-bottom: 10px;
            border-right: 4px solid;
            border-radius: var(--border-radius-sm);
        }
        
        .transaction-item.deposit {
            border-right-color: #0ECB81;
        }
        
        .transaction-item.withdraw {
            border-right-color: #F6465D;
        }
        
        .transaction-item.invest {
            border-right-color: #F0B90B;
        }
        
        .transaction-item.profit {
            border-right-color: #27A7E7;
        }
        
        .transaction-item.transfer {
            border-right-color: #F0B90B;
        }
        
        .transaction-item.daily {
            border-right-color: #F0B90B;
        }
        
        .referral-item {
            background: #151A1F;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid #2B3139;
            border-radius: var(--border-radius-sm);
        }
        
        .referral-name {
            font-weight: 700;
            color: var(--binance-gold);
        }
        
        .referral-date {
            color: #B1B5BA;
            font-size: 0.8rem;
        }
        
        .referral-stats {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .stat {
            flex: 1;
            text-align: center;
            padding: 8px;
            background: #1E2329;
            border-radius: var(--border-radius-sm);
        }
        
        .stat-value {
            font-weight: 700;
            color: #0ECB81;
        }

        .daily-bonus-card {
            background: #151A1F;
            padding: 30px 20px;
            text-align: center;
            border: 2px solid var(--binance-gold);
            margin-top: 20px;
            border-radius: var(--border-radius-lg);
        }
        
        .daily-bonus-icon {
            font-size: 5rem;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 15px #F0B90B);
        }
        
        .daily-bonus-amount {
            font-size: 3rem;
            font-weight: 800;
            color: var(--binance-gold);
            margin: 15px 0;
        }
        
        .daily-bonus-status {
            background: #1E2329;
            padding: 15px;
            margin: 20px 0;
            border-radius: var(--border-radius-sm);
        }
        
        .bonus-claimed {
            color: #0ECB81;
            font-weight: 600;
        }
        
        .bonus-unclaimed {
            color: var(--binance-gold);
            font-weight: 600;
        }

        .activation-card {
            background: #151A1F;
            padding: 25px;
            border: 2px solid var(--binance-gold);
            border-radius: var(--border-radius-lg);
            margin: 20px 0;
        }
        .activation-icon {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 20px;
        }
        .activation-input-group {
            margin: 20px 0;
        }
        .activation-details {
            background: #1E2329;
            padding: 20px;
            border-radius: var(--border-radius-md);
            margin: 20px 0;
            display: none;
        }
        .activation-details.show {
            display: block;
        }
        .activation-reason {
            color: var(--binance-gold);
            font-size: 1.2rem;
            font-weight: 700;
        }
        .activation-value {
            font-size: 2rem;
            color: #0ECB81;
            font-weight: 800;
        }
        .activation-remaining {
            color: #B1B5BA;
        }
        .admin-email {
            background: #2B3139;
            padding: 10px;
            border-radius: var(--border-radius-sm);
            color: #F0B90B;
            text-align: center;
            margin: 15px 0;
            font-weight: 600;
        }

        .admin-only {
            display: none;
            background: linear-gradient(145deg, #F0B90B20, #00000000);
            border-right: 3px solid #F0B90B;
        }
        .admin-only i, .admin-only span {
            color: #F0B90B !important;
            font-weight: 800;
        }
    </style>
</head>
<body>
    <div class="mobile-container" id="mobileContainer">
        <!-- Auth Pages -->
        <div id="authPages">
            <!-- LOGIN PAGE -->
            <div id="loginPage" class="auth-container">
                <div class="auth-card">
                    <div class="cyber-logo">
                        <span class="panda-icon">ğŸ¼</span>
                    </div>
                    <h2 style="text-align:center; margin-bottom:24px;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
                    <input type="email" id="loginEmail" class="input-cyber" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" value="panda@hotmail.com">
                    <input type="password" id="loginPassword" class="input-cyber" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" value="123456">
                    <button class="btn-cyber" id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
                    <div class="switch-auth" id="goToRegister">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø§ÙØªØ­ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
                </div>
            </div>
            
            <!-- REGISTER PAGE -->
            <div id="registerPage" class="auth-container hidden">
                <div class="auth-card">
                    <div class="cyber-logo">
                        <span class="panda-icon">ğŸ¼</span>
                    </div>
                    <h2 style="text-align:center; margin-bottom:24px;">ÙØªØ­ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
                    
                    <input type="email" id="regEmail" class="input-cyber" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" value="user@example.com">
                    
                    <select id="regCountry" class="select-cyber">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯</option>
                        <option value="Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                        <option value="Ù…ØµØ±">Ù…ØµØ±</option>
                        <option value="Ø§Ù„Ù…ØºØ±Ø¨">Ø§Ù„Ù…ØºØ±Ø¨</option>
                        <option value="ØªÙˆÙ†Ø³">ØªÙˆÙ†Ø³</option>
                        <option value="Ù„ÙŠØ¨ÙŠØ§">Ù„ÙŠØ¨ÙŠØ§</option>
                        <option value="Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§">Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§</option>
                        <option value="Ø§Ù„Ø³ÙˆØ¯Ø§Ù†">Ø§Ù„Ø³ÙˆØ¯Ø§Ù†</option>
                        <option value="ÙÙ„Ø³Ø·ÙŠÙ†">ÙÙ„Ø³Ø·ÙŠÙ†</option>
                        <option value="Ø§Ù„Ø£Ø±Ø¯Ù†">Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                        <option value="Ù„Ø¨Ù†Ø§Ù†">Ù„Ø¨Ù†Ø§Ù†</option>
                        <option value="Ø³ÙˆØ±ÙŠØ§">Ø³ÙˆØ±ÙŠØ§</option>
                        <option value="Ø§Ù„Ø¹Ø±Ø§Ù‚">Ø§Ù„Ø¹Ø±Ø§Ù‚</option>
                        <option value="Ø§Ù„ÙƒÙˆÙŠØª">Ø§Ù„ÙƒÙˆÙŠØª</option>
                        <option value="Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                        <option value="Ù‚Ø·Ø±">Ù‚Ø·Ø±</option>
                        <option value="Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
                        <option value="Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                        <option value="Ø¹Ù…Ø§Ù†">Ø¹Ù…Ø§Ù†</option>
                        <option value="Ø§Ù„ÙŠÙ…Ù†">Ø§Ù„ÙŠÙ…Ù†</option>
                        <option value="ØªØ±ÙƒÙŠØ§">ØªØ±ÙƒÙŠØ§</option>
                        <option value="Ø¥ÙŠØ±Ø§Ù†" class="hidden"></option>
                        <option value="Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„" style="display:none;">Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„</option>
                    </select>
                    
                    <input type="number" id="regAge" class="input-cyber" placeholder="Ø§Ù„Ø¹Ù…Ø±" min="18" max="100" value="25">
                    <input type="password" id="regPassword" class="input-cyber" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" value="123456">
                    <input type="text" id="regReferral" class="input-cyber" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
                    
                    <button class="btn-cyber" id="registerBtn">ÙØªØ­ Ø­Ø³Ø§Ø¨</button>
                    <div class="switch-auth" id="goToLogin">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</div>
                </div>
            </div>
        </div>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        
        <!-- SIDEBAR -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="cyber-panda-icon">ğŸ¼</div>
                    <span>The Panda</span>
                </div>
                <button class="close-sidebar" id="closeSidebarBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Telegram Section -->
            <div class="telegram-section">
                <h4><i class="fab fa-telegram"></i> Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h4>
                <div class="telegram-link" id="adminTelegramLink">
                    <i class="fab fa-telegram-plane"></i>
                    <span>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹</span>
                </div>
                <div class="telegram-link" id="groupTelegramLink">
                    <i class="fab fa-telegram"></i>
                    <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©</span>
                </div>
            </div>

            <div class="sidebar-nav" id="sidebarNav">
                <div class="sidebar-item active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </div>
                <div class="sidebar-item" data-page="daily">
                    <i class="fas fa-calendar-day"></i>
                    <span>Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…</span>
                </div>
                <div class="sidebar-item" data-page="invest">
                    <i class="fas fa-chart-line"></i>
                    <span>Ø§Ø³ØªØ«Ù…Ø§Ø±</span>
                </div>
                <div class="sidebar-item" data-page="deposit">
                    <i class="fas fa-arrow-up"></i>
                    <span>Ø¥ÙŠØ¯Ø§Ø¹</span>
                </div>
                <div class="sidebar-item" data-page="withdraw">
                    <i class="fas fa-arrow-down"></i>
                    <span>Ø³Ø­Ø¨</span>
                </div>
                <div class="sidebar-item" data-page="referrals">
                    <i class="fas fa-user-friends"></i>
                    <span>Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª</span>
                </div>
                <div class="sidebar-item" data-page="transactions">
                    <i class="fas fa-history"></i>
                    <span>Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</span>
                </div>
                <div class="sidebar-item" data-page="profile">
                    <i class="fas fa-user"></i>
                    <span>Ø­Ø³Ø§Ø¨ÙŠ</span>
                </div>
                <div class="sidebar-item" data-page="activation">
                    <i class="fas fa-key"></i>
                    <span>Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„</span>
                </div>
                <!-- Admin Panel - ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù€ panda@hotmail.com -->
                <div class="sidebar-item admin-only" data-page="admin">
                    <i class="fas fa-crown"></i>
                    <span>ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                </div>
            </div>
            
            <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
            <div class="sidebar-logout-btn" id="sidebarLogoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</span>
            </div>
            
            <div class="sidebar-footer">
                <div style="display: flex; align-items: center; gap: 10px; background: #1E2329; padding: 15px; border-radius: var(--border-radius-sm);">
                    <span style="font-size: 2.5rem;">ğŸ¼âš¡</span>
                    <div>
                        <div style="font-weight:700; color: var(--binance-gold);">The Panda</div>
                        <div style="font-size:0.75rem; color:#B1B5BA;">10% ÙŠÙˆÙ…ÙŠØ§Ù‹</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN PAGES CONTAINER -->
        <div class="pages-container" id="pagesContainer">
            <!-- PAGE HOME -->
            <div id="page-home" class="page active-page">
                <div class="top-bar-mobile">
                    <div class="logo-cyber">
                        <i class="fas fa-panda"></i>
                        <span>The Panda</span>
                    </div>
                    <button class="menu-toggle-btn" id="menuToggleHome">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>

                <div style="padding: 16px 20px;">
                    <div class="card-binance">
                        <div class="balance-row">
                            <div>
                                <span style="color: #B1B5BA;">Ù…Ø±Ø­Ø¨Ø§Ù‹,</span>
                                <h2 style="font-weight: 700;" id="greetingNameHome">...</h2>
                            </div>
                            <div style="background: #F0B90B20; padding: 10px 16px; border-radius: var(--border-radius-sm);">
                                <span style="color: #F0B90B; font-weight: 800;">+10%</span> <span style="color:#B1B5BA;">ÙŠÙˆÙ…ÙŠ</span>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="circle-wrapper">
                                <svg class="circle-svg" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="40" class="circle-bg"/>
                                    <circle id="progressCircleHome" cx="50" cy="50" r="40" class="circle-progress" stroke-dashoffset="0"/>
                                </svg>
                                <div class="panda-center">ğŸ¼</div>
                            </div>
                            <div>
                                <div style="color:#B1B5BA; font-size:0.8rem;">Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù‚Ø§Ø¯Ù…</div>
                                <div class="timer-big" id="countdownTimerHome">--:--:--</div>
                                <div style="color:#F0B90B; font-size:0.8rem;" id="circleStatus">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</div>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div class="card-binance" style="border-right: 6px solid #F0B90B;">
                            <div class="balance-row">
                                <span>Ø±ØµÙŠØ¯ Ù…Ø³ØªØ«Ù…Ø±</span>
                                <span class="balance-number" id="investedBalanceHome">0</span>
                            </div>
                        </div>
                        <div class="card-binance" style="border-right: 6px solid #0ECB81;">
                            <div class="balance-row">
                                <span>Ø±ØµÙŠØ¯ Ù…ØªØ§Ø­</span>
                                <span class="balance-number" id="availableBalanceHome">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="quick-transfer" id="quickTransferSection">
                        <h4><i class="fas fa-exchange-alt"></i> ØªØ­ÙˆÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</h4>
                        <p>Ø­ÙˆÙ„ Ù…Ù† Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…ØªØ§Ø­ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ù„Ø²ÙŠØ§Ø¯Ø© Ø£Ø±Ø¨Ø§Ø­Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</p>
                        <p style="color: #0ECB81;" id="availableForTransfer">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­: 0 Ø¯Ø¬</p>
                        
                        <div class="transfer-input-group">
                            <input type="number" id="quickTransferAmount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº" min="100" value="1000">
                            <span style="color: #F0B90B;">Ø¯Ø¬</span>
                        </div>
                        
                        <button class="btn-transfer" id="quickTransferBtn" style="width:100%;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„</button>
                        
                        <div class="transfer-timer" id="quickTransferTimer" style="display:none;">
                            Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ØªØ­ÙˆÙŠÙ„: <span id="quickTransferTimeLeft">03:00:00</span>
                        </div>
                    </div>

                    <div class="card-binance" style="border-right: 6px solid #F6465D;">
                        <div class="balance-row">
                            <span>Ø¢Ø®Ø± Ø±Ø¨Ø­ Ù…Ø¶Ø§Ù</span>
                            <span class="balance-number" id="lastProfitHome">0</span>
                        </div>
                    </div>

                    <div class="quick-grid">
                        <div class="quick-item" id="actionInvestHome">
                            <i class="fas fa-chart-line"></i>
                            <span>Ø§Ø³ØªØ«Ù…Ø§Ø±</span>
                        </div>
                        <div class="quick-item" id="actionDepositHome">
                            <i class="fas fa-arrow-up"></i>
                            <span>Ø¥ÙŠØ¯Ø§Ø¹</span>
                        </div>
                        <div class="quick-item" id="actionWithdrawHome">
                            <i class="fas fa-arrow-down"></i>
                            <span>Ø³Ø­Ø¨</span>
                        </div>
                        <div class="quick-item" id="actionDailyHome">
                            <i class="fas fa-calendar-day"></i>
                            <span>Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE DAILY BONUS -->
            <div id="page-daily" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-calendar-day" style="color: #F0B90B;"></i> Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…</div>
                    <button class="menu-toggle-btn" id="menuToggleDaily">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <button class="back-btn" id="dailyBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    
                    <div class="daily-bonus-card">
                        <div class="daily-bonus-icon">ğŸ¼ğŸ</div>
                        <h2 style="margin-bottom: 10px;">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>
                        <p style="color: #B1B5BA; margin-bottom: 20px;">ÙƒÙ„ ÙŠÙˆÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 20 Ø¯Ø¬ Ù‡Ø¯ÙŠØ©</p>
                        
                        <div class="daily-bonus-amount" id="dailyBonusAmount">20 Ø¯Ø¬</div>
                        
                        <div class="daily-bonus-status" id="dailyBonusStatus">
                            <p id="bonusStatusText" class="bonus-unclaimed">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…</p>
                            <p style="color: #B1B5BA; margin-top: 10px;" id="lastClaimDate">Ø¢Ø®Ø± Ù…Ø·Ø§Ù„Ø¨Ø©: Ù„Ù… ÙŠØ³Ø¨Ù‚</p>
                        </div>
                        
                        <button class="btn-cyber" id="claimDailyBonusBtn" style="margin-top: 20px;">
                            <i class="fas fa-gift"></i> Ø§Ø³ØªÙ„Ø§Ù… 20 Ø¯Ø¬
                        </button>
                        
                        <div style="margin-top: 30px; background: #1E2329; padding: 20px; border-radius: var(--border-radius-sm);">
                            <h4 style="color: #F0B90B; margin-bottom: 15px;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©</h4>
                            <p style="color: #B1B5BA; margin-bottom: 10px;">âœ“ Ù…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ© Ø¨Ù‚ÙŠÙ…Ø© 20 Ø¯Ø¬</p>
                            <p style="color: #B1B5BA; margin-bottom: 10px;">âœ“ ØªØªØ¬Ø¯Ø¯ ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©</p>
                            <p style="color: #B1B5BA; margin-bottom: 10px;">âœ“ ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­</p>
                            <p style="color: #B1B5BA;">âœ“ Ù„Ø§ ØªÙ†Ø³Ù‰ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ù‡Ø§ ÙƒÙ„ ÙŠÙˆÙ…</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE INVEST -->
            <div id="page-invest" class="page">
                <div class="top-bar-mobile">
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <i class="fas fa-chart-line" style="color: #F0B90B;"></i>
                        <span style="font-weight: 700;">Ø§Ø³ØªØ«Ù…Ø§Ø±</span>
                    </div>
                    <button class="menu-toggle-btn" id="menuToggleInvest">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <button class="back-btn" id="investBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    
                    <div class="card-binance">
                        <label style="color:#B1B5BA; margin-bottom: 12px; display: block;">Ù…Ø¨Ù„Øº Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (Ø£Ø¯Ù†Ù‰ 1200 Ø¯Ø¬)</label>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <input type="number" id="simulationAmount" value="5000" min="1200" step="100" style="background: #2B3139; border: none; padding: 18px 20px; color: white; font-size: 1.2rem; font-weight: 700; width: 100%; border-radius: var(--border-radius-sm);">
                            <span style="color: #F0B90B; font-weight: 700;">Ø¯Ø¬</span>
                        </div>

                        <div class="profit-box">
                            <div class="balance-row">
                                <span>Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ÙŠÙˆÙ…ÙŠ (10%)</span>
                                <span style="color: #0ECB81; font-weight: 700;" id="dailyProfitSim">0</span>
                            </div>
                            <div class="balance-row">
                                <span>Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</span>
                                <span style="color: #0ECB81; font-weight: 700;" id="weeklyProfitSim">0</span>
                            </div>
                            <div class="balance-row">
                                <span>Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø´Ù‡Ø±ÙŠ</span>
                                <span style="color: #0ECB81; font-weight: 700;" id="monthlyProfitSim">0</span>
                            </div>
                            <div class="balance-row" style="border-top: 1px solid #2B3139; margin-top: 12px; padding-top: 12px;">
                                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø´Ù‡Ø±</span>
                                <span style="color: #F0B90B; font-weight: 800; font-size: 1.4rem;" id="totalAfterMonth">0</span>
                            </div>
                        </div>

                        <div class="invest-info">
                            <p><i class="fas fa-check-circle"></i> ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø£ÙŠ Ù…Ø¨Ù„Øº ÙŠØ¹Ø§Ø¯Ù„ Ø£Ùˆ ÙŠÙÙˆÙ‚ 1200 Ø¯Ø¬.</p>
                            <p><i class="fas fa-percent"></i> ØªØ­ØµÙ„ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø¹Ù„Ù‰ 10% Ù…Ù† Ù‚ÙŠÙ…Ø© Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±.</p>
                            <p><i class="fas fa-clock"></i> Ø¨Ø¹Ø¯ ÙƒÙ„ Ø±Ø¨Ø­ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­ÙˆÙŠÙ„ Ø£ÙŠ Ù…Ø¨Ù„Øº Ù…Ù† Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…ØªØ§Ø­ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ø®Ù„Ø§Ù„ Ø£ÙˆÙ„ 3 Ø³Ø§Ø¹Ø§Øª.</p>
                        </div>

                        <button class="btn-cyber" style="margin-top: 24px;" id="simulateInvestBtn"><i class="fas fa-rocket"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</button>
                    </div>
                </div>
            </div>

            <!-- PAGE DEPOSIT -->
            <div id="page-deposit" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-arrow-up" style="color: #0ECB81;"></i> Ø¥ÙŠØ¯Ø§Ø¹</div>
                    <button class="menu-toggle-btn" id="menuToggleDeposit">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <div class="card-binance">
                        <button class="back-btn" id="depositBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <h3 style="margin-bottom: 20px;">Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</h3>
                        
                        <div id="depositStep1" class="payment-step active">
                            <h4 style="margin-bottom: 15px;">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</h4>
                            <div class="payment-method-grid">
                                <div class="payment-method-card active" id="methodBaridi" data-method="baridi">
                                    <i class="fas fa-credit-card" style="color: #27A7E7;"></i>
                                    <div class="method-name">Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨</div>
                                </div>
                                <div class="payment-method-card" id="methodBinance" data-method="binance">
                                    <i class="fab fa-bitcoin" style="color: #F0B90B;"></i>
                                    <div class="method-name">Ø¨ÙŠÙ†Ø§Ù†Ø³ Ø¨Ø§ÙŠ</div>
                                </div>
                            </div>
                            <div style="margin-top: 20px;">
                                <label style="color:#B1B5BA;">Ø§Ù„Ù…Ø¨Ù„Øº</label>
                                <input type="number" id="depositAmount" class="input-cyber" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" min="1000" value="5000">
                                <button class="btn-cyber" id="depositNextBtn" style="margin-top: 15px;">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                            </div>
                        </div>
                        
                        <div id="depositStep2" class="payment-step">
                            <button class="back-btn" id="depositBackBtn"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
                            <h4 style="margin-bottom: 15px;" id="selectedMethodText">Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨</h4>
                            
                            <div class="copy-number" id="copyAccountNumber">
                                <i class="fas fa-copy"></i>
                                <span id="accountNumber">00799999002391297265</span>
                                <small style="color: #F0B90B; margin-right: auto;">Ø§Ø¶ØºØ· Ù„Ù„Ù†Ø³Ø®</small>
                            </div>
                            
                            <p style="color:#B1B5BA; margin:10px 0;">Ø­ÙˆÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ù„Ø­Ø³Ø§Ø¨ Ø£Ø¹Ù„Ø§Ù‡ Ø«Ù… Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</p>
                            
                            <input type="text" id="transactionId" class="input-cyber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©">
                            
                            <button class="btn-cyber" id="confirmPaymentBtn" style="margin-top: 15px;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>
                            <p style="font-size:0.75rem; color:#F0B90B; margin-top:8px;">Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„Ù…Ø¯ÙŠØ±</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE WITHDRAW -->
            <div id="page-withdraw" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-arrow-down" style="color: #F6465D;"></i> Ø³Ø­Ø¨</div>
                    <button class="menu-toggle-btn" id="menuToggleWithdraw">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <div class="card-binance">
                        <button class="back-btn" id="withdrawBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <h3 style="margin-bottom: 20px;">Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
                        
                        <div id="withdrawStep1" class="payment-step active">
                            <label style="color:#B1B5BA;">Ø§Ù„Ù…Ø¨Ù„Øº (Ø£Ø¯Ù†Ù‰ 1000 Ø¯Ø¬)</label>
                            <input type="number" id="withdrawAmount" class="input-cyber" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" min="1000" value="2000">
                            <div style="background: #151A1F; padding: 15px; margin: 15px 0; border-radius: var(--border-radius-sm);">
                                <div class="balance-row">
                                    <span>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­</span>
                                    <span style="color: #0ECB81; font-weight: 700;" id="withdrawAvailableBalance">0</span>
                                </div>
                            </div>
                            <button class="btn-cyber" id="withdrawNextBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        </div>
                        
                        <div id="withdrawStep2" class="payment-step">
                            <button class="back-btn" id="withdrawBackBtn1"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
                            <h4 style="margin-bottom: 15px;">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø³Ø­Ø¨</h4>
                            <div class="payment-method-grid">
                                <div class="payment-method-card active" id="withdrawMethodBaridi" data-method="baridi">
                                    <i class="fas fa-credit-card" style="color: #27A7E7;"></i>
                                    <div class="method-name">Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨</div>
                                </div>
                                <div class="payment-method-card" id="withdrawMethodBinance" data-method="binance">
                                    <i class="fab fa-bitcoin" style="color: #F0B90B;"></i>
                                    <div class="method-name">Ø¨ÙŠÙ†Ø§Ù†Ø³ Ø¨Ø§ÙŠ</div>
                                </div>
                            </div>
                            <button class="btn-cyber" id="withdrawMethodNextBtn" style="margin-top: 15px;" disabled>Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        </div>
                        
                        <div id="withdrawStep3" class="payment-step">
                            <button class="back-btn" id="withdrawBackBtn2"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
                            <h4 style="margin-bottom: 15px;" id="withdrawMethodText">Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨</h4>
                            
                            <label style="color:#B1B5BA;">Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                            <input type="text" id="withdrawAccountNumber" class="input-cyber" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨">
                            
                            <label style="color:#B1B5BA; margin-top: 10px;">ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                            <input type="text" id="withdrawAccountName" class="input-cyber" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
                            
                            <button class="btn-cyber" id="confirmWithdrawBtn" style="margin-top: 20px;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø³Ø­Ø¨</button>
                            <p style="font-size:0.75rem; color:#F0B90B; margin-top:8px;">Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„Ù…Ø¯ÙŠØ±</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE REFERRALS -->
            <div id="page-referrals" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-user-friends" style="color: #F0B90B;"></i> Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª</div>
                    <button class="menu-toggle-btn" id="menuToggleReferrals">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <button class="back-btn" id="referralsBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    
                    <div class="card-binance" style="text-align: center;">
                        <div style="display: flex; align-items: center; gap: 15px; background: #151A1F; padding: 20px; margin-bottom: 20px; border-radius: var(--border-radius-sm);">
                            <span style="font-size: 3rem;">ğŸ¼âš¡</span>
                            <div style="text-align: right;">
                                <div style="font-weight:700; font-size:1.4rem;">Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©</div>
                                <div style="color:#F0B90B;">10% Ù…Ù† Ø£ÙˆÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙ‚Ø·!</div>
                            </div>
                        </div>
                        
                        <div class="referral-code-box" id="referralCodeDisplay">...</div>
                        <div class="grid-2">
                            <button class="btn-cyber" id="copyReferralBtn"><i class="fas fa-copy"></i> Ù†Ø³Ø®</button>
                            <button class="btn-cyber btn-cyber-outline" id="shareReferralBtn"><i class="fas fa-share"></i> Ù…Ø´Ø§Ø±ÙƒØ©</button>
                        </div>
                        
                        <div style="margin-top: 30px; text-align: right;">
                            <h4 style="margin-bottom: 16px;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª (<span id="referralsCount">0</span>)</h4>
                            <div id="referralsList" class="transactions-list"></div>
                        </div>
                        
                        <div style="margin-top: 24px;">
                            <div style="display: flex; justify-content: space-between; background: #151A1F; padding: 16px; border-radius: var(--border-radius-sm);">
                                <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª</span>
                                <span style="color: #0ECB81; font-weight: 700;" id="totalReferralRewards">0 Ø¯Ø¬</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE TRANSACTIONS -->
            <div id="page-transactions" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-history" style="color: #F0B90B;"></i> Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</div>
                    <button class="menu-toggle-btn" id="menuToggleTransactions">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <div class="card-binance">
                        <button class="back-btn" id="transactionsBackToHomeBtn"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <h3 style="margin-bottom: 20px;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</h3>
                        <div id="transactionsList" class="transactions-list"></div>
                    </div>
                </div>
            </div>

            <!-- PAGE PROFILE -->
            <div id="page-profile" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-user-circle" style="color: #F0B90B;"></i> Ø­Ø³Ø§Ø¨ÙŠ</div>
                    <button class="menu-toggle-btn" id="menuToggleProfile">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <div class="card-binance" style="display: flex; flex-direction: column; align-items: center;">
                        <button class="back-btn" id="profileBackToHomeBtn" style="align-self: flex-start;"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        <div style="font-size: 4.5rem; margin-bottom: 8px;">ğŸ¼âš¡</div>
                        <h3 id="profileName">...</h3>
                        <span style="background: #F0B90B20; padding: 6px 20px; color: #F0B90B; font-weight: 600; margin: 12px 0; border-radius: 20px;" id="profileLevel">Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯</span>
                        <div style="width: 100%; margin-top: 20px;">
                            <div class="balance-row"><span>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span><span id="profileEmail">...</span></div>
                            <div class="balance-row"><span>Ø§Ù„Ø¨Ù„Ø¯</span><span id="profileCountry">...</span></div>
                            <div class="balance-row"><span>Ø§Ù„Ø¹Ù…Ø±</span><span id="profileAge">...</span></div>
                            <div class="balance-row"><span>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…</span><span id="profileJoinDate">...</span></div>
                            <div class="balance-row"><span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</span><span id="profileEarnings">0</span></div>
                            <div class="balance-row"><span>Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª</span><span id="profileReferrals">0</span></div>
                            <div class="balance-row"><span>Ø¢Ø®Ø± Ù…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ©</span><span id="profileLastDaily">Ù„Ù… ÙŠØ³Ø¨Ù‚</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE ACTIVATION CODE -->
            <div id="page-activation" class="page">
                <div class="top-bar-mobile">
                    <div><i class="fas fa-key" style="color: #F0B90B;"></i> Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„</div>
                    <button class="menu-toggle-btn" id="menuToggleActivation">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <div class="activation-card">
                        <div class="activation-icon">ğŸ”‘ğŸ¼</div>
                        <h2 style="text-align: center; margin-bottom: 15px;">Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„</h2>
                        <p style="color: #B1B5BA; text-align: center; margin-bottom: 20px;">Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø°ÙŠ Ø­ØµÙ„Øª Ø¹Ù„ÙŠÙ‡ Ù…Ù† Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</p>
                        
                        <div class="admin-email">
                            <i class="fas fa-envelope"></i> Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„: panda@hotmail.com
                        </div>
                        
                        <div class="activation-input-group">
                            <input type="text" id="activationCodeInput" class="input-cyber" placeholder="Ù…Ø«Ø§Ù„: PANDA-NEW2025" style="text-align: center; font-family: monospace;">
                            <button class="btn-cyber" id="activateCodeBtn" style="margin-top: 10px;"><i class="fas fa-check-circle"></i> ØªØ­Ù‚Ù‚ ÙˆÙØ¹Ù‘Ù„</button>
                        </div>
                        
                        <div id="activationResult" class="activation-details">
                            <h4 style="color: #F0B90B; margin-bottom: 15px;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ù…Ø²</h4>
                            <div class="balance-row"><span>Ø§Ù„Ø³Ø¨Ø¨:</span> <span id="codeReason" class="activation-reason">...</span></div>
                            <div class="balance-row"><span>Ø§Ù„Ù‚ÙŠÙ…Ø©:</span> <span id="codeValue" class="activation-value">0 Ø¯Ø¬</span></div>
                            <div class="balance-row"><span>Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©:</span> <span id="codeRemaining" class="activation-remaining">...</span></div>
                            <div style="margin-top: 20px;">
                                <button class="btn-cyber" id="confirmActivationBtn" style="display: none;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PAGE ADMIN (Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„) -->
            <div id="page-admin" class="page">
                <div class="top-bar-mobile" style="background: linear-gradient(145deg, #0B0E11, #1E1A0B);">
                    <div><i class="fas fa-crown" style="color: #F0B90B;"></i> <span style="color: #F0B90B;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</span></div>
                    <button class="menu-toggle-btn" id="menuToggleAdmin">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div style="padding: 16px 20px;">
                    <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                        <div class="card-binance" style="text-align: center;">
                            <i class="fas fa-users" style="font-size: 2rem; color: #F0B90B;"></i>
                            <h3 id="totalUsers">0</h3>
                            <p style="color: #B1B5BA;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</p>
                        </div>
                        <div class="card-binance" style="text-align: center;">
                            <i class="fas fa-dollar-sign" style="font-size: 2rem; color: #0ECB81;"></i>
                            <h3 id="totalInvested">0</h3>
                            <p style="color: #B1B5BA;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª</p>
                        </div>
                    </div>

                    <!-- Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² ØªÙØ¹ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ -->
                    <div class="card-binance" style="border: 2px solid #F0B90B;">
                        <h3 style="color: #F0B90B; margin-bottom: 20px;"><i class="fas fa-key"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² ØªÙØ¹ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</h3>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="color: #B1B5BA; display: block; margin-bottom: 5px;">Ø§Ù„Ø±Ù…Ø² (Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ)</label>
                            <input type="text" id="adminCodeInput" class="input-cyber" placeholder="Ù…Ø«Ø§Ù„: PANDA-NEW2025">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="color: #B1B5BA; display: block; margin-bottom: 5px;">Ø§Ù„Ù‚ÙŠÙ…Ø© (Ø¯Ø¬)</label>
                            <input type="number" id="adminCodeValue" class="input-cyber" value="1000" min="100">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="color: #B1B5BA; display: block; margin-bottom: 5px;">Ø§Ù„Ø³Ø¨Ø¨</label>
                            <select id="adminCodeReason" class="select-cyber">
                                <option value="Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨">ğŸ Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨</option>
                                <option value="Ù…ÙƒØ§ÙØ£Ø©">ğŸ’° Ù…ÙƒØ§ÙØ£Ø©</option>
                                <option value="Ø¥Ø­Ø§Ù„Ø©">ğŸ¤ Ø¥Ø­Ø§Ù„Ø©</option>
                                <option value="Ø¯Ø¹ÙˆØ© Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©">ğŸ“¢ Ø¯Ø¹ÙˆØ© Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</option>
                                <option value="Ø¥ÙŠØ¯Ø§Ø¹">ğŸ’³ Ø¥ÙŠØ¯Ø§Ø¹</option>
                                <option value="ØªØ¹ÙˆÙŠØ¶">ğŸ”„ ØªØ¹ÙˆÙŠØ¶</option>
                                <option value="Ø®ØµÙ…">ğŸ·ï¸ Ø®ØµÙ…</option>
                                <option value="Ø£Ø®Ø±Ù‰">â“ Ø£Ø®Ø±Ù‰</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="color: #B1B5BA; display: block; margin-bottom: 5px;">Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</label>
                            <input type="number" id="adminCodeUses" class="input-cyber" value="1" min="1" max="1000">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="color: #B1B5BA; display: block; margin-bottom: 5px;">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="date" id="adminCodeExpiry" class="input-cyber">
                        </div>
                        
                        <button class="btn-cyber" id="adminGenerateCodeBtn" style="margin-top: 10px;">
                            <i class="fas fa-magic"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø²
                        </button>
                        
                        <div id="adminGeneratedCode" style="margin-top: 20px; background: #151A1F; padding: 15px; border-radius: var(--border-radius-sm); display: none;">
                            <p style="color: #0ECB81;">âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø² Ø¨Ù†Ø¬Ø§Ø­!</p>
                            <div style="background: #0B0E11; padding: 15px; text-align: center; border-radius: var(--border-radius-sm);">
                                <span style="color: #B1B5BA;">Ø§Ù„Ø±Ù…Ø²:</span>
                                <span id="adminNewCode" style="color: #F0B90B; font-size: 1.8rem; font-weight: 800; letter-spacing: 2px; font-family: monospace;">PANDA-XXXX</span>
                            </div>
                            <button class="btn-cyber btn-cyber-outline" id="adminCopyNewCode" style="margin-top: 10px;">
                                <i class="fas fa-copy"></i> Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø²
                            </button>
                        </div>
                    </div>

                    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù†Ø´Ø·Ø© -->
                    <div class="card-binance" style="margin-top: 20px;">
                        <h3 style="margin-bottom: 20px;"><i class="fas fa-list"></i> Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù†Ø´Ø·Ø©</h3>
                        <div id="activeCodesList" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Investment Modal -->
        <div style="position: fixed; bottom: 0; left: 0; right: 0; max-width:400px; margin:0 auto; background: #1E2329; border-top-left-radius: var(--border-radius-lg); border-top-right-radius: var(--border-radius-lg); padding: 30px 20px; transform: translateY(100%); transition: 0.3s; z-index: 3000; box-shadow: 0 -10px 30px rgba(0,0,0,0.5);" id="investmentModal">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</h3>
                <i class="fas fa-times" id="closeModalBtn" style="font-size:1.8rem; color:#B1B5BA; cursor:pointer;"></i>
            </div>
            <div style="margin: 20px 0;">
                <div class="balance-row"><span>Ø§Ù„Ù…Ø¨Ù„Øº</span><span id="modalAmount">0</span></div>
                <div class="balance-row"><span>Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ÙŠÙˆÙ…ÙŠ (10%)</span><span id="modalDaily">0</span></div>
                <div class="balance-row"><span>Ø¨Ø¹Ø¯ 30 ÙŠÙˆÙ…</span><span id="modalTotal">0</span></div>
            </div>
            <button class="btn-cyber" id="confirmInvestmentBtn">ØªØ£ÙƒÙŠØ¯</button>
        </div>
        <div style="position: fixed; bottom: 0; left: 0; right: 0; height: 100%; background: rgba(0,0,0,0.6); display: none; z-index: 2500;" id="modalOverlay"></div>
    </div>

    <!-- Modal for Terms and Conditions -->
    <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 4000; padding: 20px;" id="termsModal">
        <div style="background: #1E2329; max-width: 400px; width: 100%; padding: 30px 20px; border: 1px solid #F0B90B; border-radius: var(--border-radius-lg);">
            <h4 style="color: #F0B90B; margin-bottom: 20px; text-align: center;">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¹Ù…Ù„</h4>
            <div style="max-height: 400px; overflow-y: auto; margin-bottom: 20px; padding: 10px; background: #151A1F; border-radius: var(--border-radius-sm);">
                <p style="color: #B1B5BA; margin-bottom: 15px;">1. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ù‡Ùˆ 1200 Ø¯Ø¬.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">2. Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ù…ÙØªÙˆØ­Ø© Ù…Ø¹ Ø¹Ø§Ø¦Ø¯ ÙŠÙˆÙ…ÙŠ 10% ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">3. ÙŠÙ…ÙƒÙ† Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ø¨Ø­Ø¯ Ø£Ø¯Ù†Ù‰ 1000 Ø¯Ø¬.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">4. Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø¥Ø­Ø§Ù„Ø©: 10% Ù…Ù† Ø£ÙˆÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† Ø¹Ù…ÙˆÙ„Ø© Ø¹Ù„Ù‰ Ø¹Ù…Ù„ÙŠØ§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±).</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">5. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ù‚Ø¨Ù„ Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">6. Ø§Ù„Ù†Ø´Ø§Ø· ØºÙŠØ± Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ø¯ÙØ¹.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">7. ÙŠØ­Ù‚ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©.</p>
                <p style="color: #B1B5BA; margin-bottom: 15px;">8. Ø¨Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø³Ø©.</p>
            </div>
            <div style="display: flex; align-items: center; gap: 10px; margin: 15px 0;">
                <input type="checkbox" id="agreeTermsModal" style="width: 20px; height: 20px;">
                <label for="agreeTermsModal" style="color: white;">Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª</label>
            </div>
            <div class="grid-2">
                <button class="btn-cyber-outline" id="cancelTermsBtn">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn-cyber" id="confirmTermsBtn" disabled>Ù…ÙˆØ§ÙÙ‚Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
            </div>
        </div>
    </div>

    <script>
        // ==================== FIREBASE CONFIGURATION ====================
        const firebaseConfig = {
            apiKey: "AIzaSyBsbH6gBp1o-k3Gkq3IupljCzcs-C9ZPYI",
            authDomain: "thepanda-a052d.firebaseapp.com",
            projectId: "thepanda-a052d",
            storageBucket: "thepanda-a052d.firebasestorage.app",
            messagingSenderId: "987053805778",
            appId: "1:987053805778:web:4c57733ea86c8209995d0b",
            measurementId: "G-188PCMSQN7"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        // ==================== GLOBAL VARIABLES ====================
        let currentUser = null;
        let currentUserId = null;
        let unsubscribeUser = null;
        let unsubscribeTransactions = null;
        let unsubscribeReferrals = null;
        let currentInvestmentAmount = 5000;
        let selectedDepositMethod = 'baridi';
        let selectedWithdrawMethod = 'baridi';
        let withdrawAmount = 0;
        let currentActivationCodeData = null;

        // ==================== UTILITY FUNCTIONS ====================
        function formatCurrency(amount) {
            return (amount || 0).toLocaleString('ar-DZ') + ' Ø¯Ø¬';
        }

        function formatDate(timestamp) {
            if (!timestamp) return '...';
            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
            return date.toLocaleDateString('ar-EG') + ' ' + date.toLocaleTimeString('ar-EG', {hour: '2-digit', minute:'2-digit'});
        }

        function showNotif(msg, type = 'success') {
            alert(msg);
        }

        function getReferralCodeFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('ref') || '';
        }

        // ==================== ADMIN FUNCTIONS ====================
        function checkIfAdmin() {
            if (currentUser && currentUser.email === 'panda@hotmail.com') {
                document.querySelectorAll('.admin-only').forEach(el => el.style.display = 'flex');
                loadAdminStats();
                loadActiveCodes();
            } else {
                document.querySelectorAll('.admin-only').forEach(el => el.style.display = 'none');
            }
        }

        async function loadAdminStats() {
            try {
                const usersSnapshot = await db.collection('users').get();
                document.getElementById('totalUsers').textContent = usersSnapshot.size;
                
                let totalInvested = 0;
                usersSnapshot.forEach(doc => {
                    totalInvested += doc.data().invested || 0;
                });
                document.getElementById('totalInvested').textContent = formatCurrency(totalInvested);
                
            } catch (error) {
                console.error('Error loading admin stats:', error);
            }
        }

        async function loadActiveCodes() {
            try {
                const codesSnapshot = await db.collection('activationCodes')
                    .orderBy('createdAt', 'desc')
                    .limit(20)
                    .get();
                
                const container = document.getElementById('activeCodesList');
                if (codesSnapshot.empty) {
                    container.innerHTML = '<p style="color: #B1B5BA; text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ù…ÙˆØ² Ø¨Ø¹Ø¯</p>';
                    return;
                }
                
                let html = '';
                codesSnapshot.forEach(doc => {
                    const code = doc.data();
                    const usedCount = code.usedBy ? code.usedBy.length : 0;
                    const expiryDate = code.expiresAt ? code.expiresAt.toDate().toLocaleDateString('ar-EG') : 'Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªÙ‡Ø§Ø¡';
                    
                    html += `
                        <div style="background: #151A1F; padding: 15px; margin-bottom: 10px; border-radius: var(--border-radius-sm); border-right: 4px solid ${usedCount >= code.maxUses ? '#F6465D' : '#0ECB81'};">
                            <div style="display: flex; justify-content: space-between;">
                                <span style="font-family: monospace; font-weight: 700; color: #F0B90B;">${code.code}</span>
                                <span style="color: ${usedCount >= code.maxUses ? '#F6465D' : '#0ECB81'};">
                                    ${usedCount}/${code.maxUses}
                                </span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 5px; color: #B1B5BA; font-size: 0.9rem;">
                                <span>ğŸ’° ${formatCurrency(code.value)}</span>
                                <span>ğŸ“ ${code.reason || 'Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨'}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 5px; color: #B1B5BA; font-size: 0.8rem;">
                                <span>â° ${expiryDate}</span>
                                <span>ğŸ‘¤ ${usedCount} Ù…Ø³ØªØ®Ø¯Ù…</span>
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = html;
                
            } catch (error) {
                console.error('Error loading codes:', error);
            }
        }

        // ==================== AUTH FUNCTIONS ====================
        function logout() {
            auth.signOut().then(() => {
                if (unsubscribeUser) unsubscribeUser();
                if (unsubscribeTransactions) unsubscribeTransactions();
                if (unsubscribeReferrals) unsubscribeReferrals();
                currentUser = null;
                currentUserId = null;
                document.getElementById('authPages').style.display = 'block';
                document.getElementById('pagesContainer').classList.remove('logged-in');
                document.getElementById('loginPage').classList.remove('hidden');
                document.getElementById('registerPage').classList.add('hidden');
                closeSidebar();
            });
        }

        // ==================== DATA SUBSCRIPTIONS ====================
        function subscribeToUser(userId) {
            if (unsubscribeUser) unsubscribeUser();
            
            unsubscribeUser = db.collection('users').doc(userId).onSnapshot((doc) => {
                if (doc.exists) {
                    currentUser = { id: doc.id, ...doc.data() };
                    refreshUI();
                    updateCountdown();
                    checkIfAdmin();
                }
            });
        }

        function subscribeToTransactions(userId) {
            if (unsubscribeTransactions) unsubscribeTransactions();
            
            unsubscribeTransactions = db.collection('transactions')
                .where('userId', '==', userId)
                .orderBy('date', 'desc')
                .limit(50)
                .onSnapshot((snapshot) => {
                    displayTransactions(snapshot.docs);
                });
        }

        function subscribeToReferrals(userId) {
            if (unsubscribeReferrals) unsubscribeReferrals();
            
            unsubscribeReferrals = db.collection('users')
                .where('referredBy', '==', userId)
                .onSnapshot((snapshot) => {
                    displayReferrals(snapshot.docs);
                });
        }

        // ==================== DISPLAY FUNCTIONS ====================
        function refreshUI() {
            if (!currentUser) return;
            
            document.getElementById('investedBalanceHome') && (document.getElementById('investedBalanceHome').textContent = formatCurrency(currentUser.invested || 0));
            document.getElementById('availableBalanceHome') && (document.getElementById('availableBalanceHome').textContent = formatCurrency(currentUser.balance || 0));
            document.getElementById('availableForTransfer') && (document.getElementById('availableForTransfer').textContent = `Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­: ${formatCurrency(currentUser.balance || 0)}`);
            document.getElementById('lastProfitHome') && (document.getElementById('lastProfitHome').textContent = formatCurrency(currentUser.lastProfitAmount || 0));
            document.getElementById('greetingNameHome') && (document.getElementById('greetingNameHome').textContent = currentUser.name || 'Ù…Ø³ØªØ®Ø¯Ù…');
            
            checkTransferWindow();
            
            document.getElementById('withdrawAvailableBalance') && (document.getElementById('withdrawAvailableBalance').textContent = formatCurrency(currentUser.balance || 0));
            
            document.getElementById('profileName') && (document.getElementById('profileName').textContent = currentUser.name || '...');
            document.getElementById('profileEmail') && (document.getElementById('profileEmail').textContent = currentUser.email || '...');
            document.getElementById('profileCountry') && (document.getElementById('profileCountry').textContent = currentUser.country || '...');
            document.getElementById('profileAge') && (document.getElementById('profileAge').textContent = currentUser.age || '...');
            document.getElementById('profileJoinDate') && (document.getElementById('profileJoinDate').textContent = currentUser.joinDate || '...');
            document.getElementById('profileEarnings') && (document.getElementById('profileEarnings').textContent = formatCurrency(currentUser.totalEarned || 0));
            document.getElementById('profileReferrals') && (document.getElementById('profileReferrals').textContent = currentUser.referralsCount || 0);
            
            document.getElementById('referralCodeDisplay') && (document.getElementById('referralCodeDisplay').textContent = currentUser.referralCode || '...');
            
            updateDailyBonusUI();
            updateSimulation();
        }

        function displayTransactions(transactions) {
            const container = document.getElementById('transactionsList');
            if (!container) return;
            
            if (!transactions || transactions.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 30px; color: #B1B5BA;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø¹Ø¯</div>';
                return;
            }
            
            let html = '';
            transactions.forEach(doc => {
                const trans = doc.data();
                let typeClass = '';
                if (trans.type && trans.type.includes('Ø¥ÙŠØ¯Ø§Ø¹')) typeClass = 'deposit';
                else if (trans.type && trans.type.includes('Ø³Ø­Ø¨')) typeClass = 'withdraw';
                else if (trans.type && trans.type.includes('Ø§Ø³ØªØ«Ù…Ø§Ø±')) typeClass = 'invest';
                else if (trans.type && trans.type.includes('Ø±Ø¨Ø­')) typeClass = 'profit';
                else if (trans.type && trans.type.includes('ØªØ­ÙˆÙŠÙ„')) typeClass = 'transfer';
                else if (trans.type && (trans.type.includes('Ù…ÙƒØ§ÙØ£Ø©') || trans.type.includes('ØªØ³Ø¬ÙŠÙ„'))) typeClass = 'daily';
                
                html += `
                    <div class="transaction-item ${typeClass}">
                        <div style="display:flex; justify-content:space-between;">
                            <span style="font-weight:600;">${trans.type || 'Ù…Ø¹Ø§Ù…Ù„Ø©'}</span>
                            <span class="${trans.amount > 0 ? 'balance-number' : ''}" style="${trans.amount > 0 ? 'color:#0ECB81;' : 'color:#F6465D;'}">
                                ${trans.amount > 0 ? '+' : ''}${formatCurrency(Math.abs(trans.amount || 0))}
                            </span>
                        </div>
                        <div style="display:flex; justify-content:space-between; margin-top:5px; color:#B1B5BA; font-size:0.8rem;">
                            <span>${formatDate(trans.date)}</span>
                            <span>
                                <span class="transaction-badge">${trans.status || 'Ù…ÙƒØªÙ…Ù„'}</span>
                                ${trans.method ? `<span class="transaction-badge">${trans.method}</span>` : ''}
                            </span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function displayReferrals(referrals) {
            const container = document.getElementById('referralsList');
            if (!container) return;
            
            if (!referrals || referrals.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 30px; color: #B1B5BA;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø­Ø§Ù„Ø§Øª Ø¨Ø¹Ø¯</div>';
                document.getElementById('referralsCount').textContent = '0';
                document.getElementById('totalReferralRewards').textContent = formatCurrency(0);
                return;
            }
            
            let html = '';
            let totalCommission = 0;
            
            referrals.forEach(doc => {
                const ref = doc.data();
                const commission = ref.commissionEarned || 0;
                totalCommission += commission;
                
                html += `
                    <div class="referral-item">
                        <div style="display:flex; justify-content:space-between;">
                            <span class="referral-name">${ref.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}</span>
                            <span class="referral-date">${ref.joinDate ? new Date(ref.joinDate).toLocaleDateString('ar-EG') : '...'}</span>
                        </div>
                        <div style="color:#B1B5BA; margin:5px 0;">${ref.email || ''}</div>
                        <div class="referral-stats">
                            <div class="stat">
                                <div>Ø§Ø³ØªØ«Ù…Ø±</div>
                                <div class="stat-value">${formatCurrency(ref.invested || 0)}</div>
                            </div>
                            <div class="stat">
                                <div>Ø£Ø±Ø¨Ø§Ø­Ù‡</div>
                                <div class="stat-value">${formatCurrency(ref.totalProfit || 0)}</div>
                            </div>
                            <div class="stat">
                                <div>Ø¹Ù…ÙˆÙ„ØªÙƒ</div>
                                <div class="stat-value">${formatCurrency(commission)}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            document.getElementById('referralsCount').textContent = referrals.length;
            document.getElementById('totalReferralRewards').textContent = formatCurrency(totalCommission);
        }

        function updateDailyBonusUI() {
            if (!currentUser) return;
            
            const today = new Date().toDateString();
            const lastBonus = currentUser.lastDailyBonus ? new Date(currentUser.lastDailyBonus.seconds * 1000).toDateString() : null;
            const statusText = document.getElementById('bonusStatusText');
            const lastClaimEl = document.getElementById('lastClaimDate');
            const claimBtn = document.getElementById('claimDailyBonusBtn');
            
            if (lastBonus === today) {
                if (statusText) {
                    statusText.textContent = 'âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…';
                    statusText.className = 'bonus-claimed';
                }
                if (lastClaimEl) lastClaimEl.textContent = `Ø¢Ø®Ø± Ù…Ø·Ø§Ù„Ø¨Ø©: Ø§Ù„ÙŠÙˆÙ…`;
                if (claimBtn) claimBtn.disabled = true;
            } else {
                if (statusText) {
                    statusText.textContent = 'ğŸ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…';
                    statusText.className = 'bonus-unclaimed';
                }
                if (lastBonus) {
                    if (lastClaimEl) lastClaimEl.textContent = `Ø¢Ø®Ø± Ù…Ø·Ø§Ù„Ø¨Ø©: ${new Date(currentUser.lastDailyBonus.seconds * 1000).toLocaleDateString('ar-EG')}`;
                } else {
                    if (lastClaimEl) lastClaimEl.textContent = 'Ø¢Ø®Ø± Ù…Ø·Ø§Ù„Ø¨Ø©: Ù„Ù… ÙŠØ³Ø¨Ù‚';
                }
                if (claimBtn) claimBtn.disabled = false;
            }
            
            document.getElementById('profileLastDaily') && (document.getElementById('profileLastDaily').textContent = 
                lastBonus === today ? 'Ø§Ù„ÙŠÙˆÙ…' : (lastBonus ? new Date(currentUser.lastDailyBonus.seconds * 1000).toLocaleDateString('ar-EG') : 'Ù„Ù… ÙŠØ³Ø¨Ù‚'));
        }

        function updateSimulation() {
            const amount = currentInvestmentAmount || 0;
            const daily = Math.floor(amount * 0.10);
            const weekly = daily * 7;
            const monthly = Math.floor(amount * (Math.pow(1.10, 30) - 1));
            document.getElementById('dailyProfitSim') && (document.getElementById('dailyProfitSim').textContent = formatCurrency(daily));
            document.getElementById('weeklyProfitSim') && (document.getElementById('weeklyProfitSim').textContent = formatCurrency(weekly));
            document.getElementById('monthlyProfitSim') && (document.getElementById('monthlyProfitSim').textContent = formatCurrency(monthly));
            document.getElementById('totalAfterMonth') && (document.getElementById('totalAfterMonth').textContent = formatCurrency(amount + monthly));
            document.getElementById('modalAmount') && (document.getElementById('modalAmount').textContent = formatCurrency(amount));
            document.getElementById('modalDaily') && (document.getElementById('modalDaily').textContent = formatCurrency(daily));
            document.getElementById('modalTotal') && (document.getElementById('modalTotal').textContent = formatCurrency(amount + monthly));
        }

        function checkTransferWindow() {
            if (!currentUser || !currentUser.lastCycleStart) {
                document.getElementById('quickTransferTimer').style.display = 'none';
                return;
            }
            
            const now = new Date();
            const lastCycle = currentUser.lastCycleStart.toDate ? currentUser.lastCycleStart.toDate() : new Date(currentUser.lastCycleStart);
            const timeSinceCycle = now - lastCycle;
            const threeHours = 3 * 60 * 60 * 1000;
            
            if (timeSinceCycle < threeHours && currentUser.invested > 0) {
                document.getElementById('quickTransferTimer').style.display = 'block';
                document.getElementById('quickTransferSection').style.borderColor = '#F0B90B';
                
                const timeLeft = Math.max(0, threeHours - timeSinceCycle);
                const hoursLeft = Math.floor(timeLeft / 3600000);
                const minutesLeft = Math.floor((timeLeft % 3600000) / 60000);
                const secondsLeft = Math.floor((timeLeft % 60000) / 1000);
                const timerStr = `${hoursLeft.toString().padStart(2,'0')}:${minutesLeft.toString().padStart(2,'0')}:${secondsLeft.toString().padStart(2,'0')}`;
                document.getElementById('quickTransferTimeLeft') && (document.getElementById('quickTransferTimeLeft').textContent = timerStr);
            } else {
                document.getElementById('quickTransferTimer').style.display = 'none';
            }
        }

        function updateCountdown() {
            if (!currentUser) return;
            
            const circle = document.getElementById('progressCircleHome');
            const timerEl = document.getElementById('countdownTimerHome');
            const statusEl = document.getElementById('circleStatus');
            
            if (!currentUser.invested || currentUser.invested === 0) {
                if (circle) {
                    circle.classList.add('paused');
                    circle.style.strokeDashoffset = 251.2;
                }
                if (timerEl) {
                    timerEl.classList.add('paused');
                    timerEl.textContent = '--:--:--';
                }
                if (statusEl) {
                    statusEl.textContent = 'Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±';
                }
                return;
            }

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ lastCycleStart
            if (!currentUser.lastCycleStart) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙˆÙ„ÙƒÙ† Ù„Ø§ ÙŠÙˆØ¬Ø¯ lastCycleStartØŒ Ù†Ø¹ØªØ¨Ø± Ø£Ù† Ø§Ù„Ø¯ÙˆØ±Ø© Ø¨Ø¯Ø£Øª Ø§Ù„Ø¢Ù†
                db.collection('users').doc(currentUser.id).update({
                    lastCycleStart: new Date()
                });
                return;
            }

            const now = new Date();
            const lastCycle = currentUser.lastCycleStart.toDate ? currentUser.lastCycleStart.toDate() : new Date(currentUser.lastCycleStart);
            
            // Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (24 Ø³Ø§Ø¹Ø© Ù…Ù† lastCycleStart)
            const cycleEndTime = new Date(lastCycle.getTime() + 24 * 60 * 60 * 1000);
            const timeLeftMs = cycleEndTime - now;
            
            if (circle) circle.classList.remove('paused');
            if (timerEl) timerEl.classList.remove('paused');
            
            if (timeLeftMs <= 0) {
                // Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¯ÙˆØ±Ø©ØŒ ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¨Ø­
                addDailyProfit();
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
            const totalSeconds = 24 * 60 * 60;
            const secondsLeft = Math.floor(timeLeftMs / 1000);
            const progress = ((totalSeconds - secondsLeft) / totalSeconds) * 251.2;
            
            if (circle) {
                circle.style.strokeDashoffset = 251.2 - progress;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ
            const hours = Math.floor(timeLeftMs / 3600000);
            const minutes = Math.floor((timeLeftMs % 3600000) / 60000);
            const seconds = Math.floor((timeLeftMs % 60000) / 1000);
            const timerStr = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timerEl) {
                timerEl.textContent = timerStr;
            }
            
            if (statusEl) {
                statusEl.textContent = timeLeftMs > 0 ? 'Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø±Ø¨Ø­' : 'Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¨Ø­...';
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„
            checkTransferWindow();
        }

        async function addDailyProfit() {
            if (!currentUser || !currentUser.id || !currentUser.invested) return;
            
            const profit = Math.floor(currentUser.invested * 0.10);
            const now = new Date();
            
            try {
                await db.collection('users').doc(currentUser.id).update({
                    balance: firebase.firestore.FieldValue.increment(profit),
                    lastProfitAmount: profit,
                    totalEarned: firebase.firestore.FieldValue.increment(profit),
                    lastCycleStart: now, // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                    lastProfit: now
                });
                
                await db.collection('transactions').add({
                    userId: currentUser.id,
                    type: 'Ø±Ø¨Ø­ ÙŠÙˆÙ…ÙŠ',
                    amount: profit,
                    date: now,
                    status: 'Ù…ÙƒØªÙ…Ù„'
                });
                
                showNotif(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±Ø¨Ø­ ${formatCurrency(profit)} Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…ØªØ§Ø­. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­ÙˆÙŠÙ„ Ø£ÙŠ Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø®Ù„Ø§Ù„ 3 Ø³Ø§Ø¹Ø§Øª`);
            } catch (error) {
                console.error('Error adding profit:', error);
            }
        }

        // ==================== EVENT LISTENERS ====================
        document.addEventListener('DOMContentLoaded', function() {
            const urlReferral = getReferralCodeFromUrl();
            if (urlReferral) {
                document.getElementById('regReferral').value = urlReferral;
            }
            
            document.getElementById('goToRegister').addEventListener('click', function() {
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('registerPage').classList.remove('hidden');
            });
            
            document.getElementById('goToLogin').addEventListener('click', function() {
                document.getElementById('registerPage').classList.add('hidden');
                document.getElementById('loginPage').classList.remove('hidden');
            });
            
            document.getElementById('loginBtn').addEventListener('click', async function() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                try {
                    const userCredential = await auth.signInWithEmailAndPassword(email, password);
                    const userId = userCredential.user.uid;
                    
                    const userDoc = await db.collection('users').doc(userId).get();
                    
                    if (!userDoc.exists) {
                        await db.collection('users').doc(userId).set({
                            email: email,
                            name: email.split('@')[0],
                            balance: 0,
                            invested: 0,
                            totalEarned: 0,
                            referralsCount: 0,
                            referralCode: 'PANDA-' + Math.random().toString(36).substring(2,8).toUpperCase(),
                            joinDate: new Date(),
                            lastCycleStart: new Date(),
                            createdAt: new Date()
                        });
                    }
                    
                    currentUserId = userId;
                    subscribeToUser(userId);
                    subscribeToTransactions(userId);
                    subscribeToReferrals(userId);
                    
                    document.getElementById('authPages').style.display = 'none';
                    document.getElementById('pagesContainer').classList.add('logged-in');
                    
                    checkDailyBonusOnLogin(userId);
                    
                } catch (error) {
                    alert('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message);
                }
            });
            
            document.getElementById('registerBtn').addEventListener('click', async function() {
                const email = document.getElementById('regEmail').value;
                const country = document.getElementById('regCountry').value;
                const age = document.getElementById('regAge').value;
                const password = document.getElementById('regPassword').value;
                const referralCode = document.getElementById('regReferral').value;
                
                if (!email || !country || !age || !password) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                    return;
                }
                
                if (age < 18) {
                    alert('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù…Ø±Ùƒ 18 Ø³Ù†Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                    return;
                }
                
                try {
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    const userId = userCredential.user.uid;
                    
                    const newReferralCode = 'PANDA-' + Math.random().toString(36).substring(2,8).toUpperCase();
                    
                    await db.collection('users').doc(userId).set({
                        email: email,
                        name: email.split('@')[0],
                        country: country,
                        age: parseInt(age),
                        balance: 200, // Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨
                        invested: 0,
                        totalEarned: 0,
                        lastProfitAmount: 0,
                        referralsCount: 0,
                        referralCode: newReferralCode,
                        referredBy: referralCode || null,
                        joinDate: new Date(),
                        lastCycleStart: new Date(), // ÙˆÙ‚Øª Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø© (Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ)
                        lastDailyBonus: null,
                        createdAt: new Date()
                    });
                    
                    await db.collection('transactions').add({
                        userId: userId,
                        type: 'Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨',
                        amount: 200,
                        date: new Date(),
                        status: 'Ù…ÙƒØªÙ…Ù„'
                    });
                    
                    if (referralCode) {
                        const referrerQuery = await db.collection('users').where('referralCode', '==', referralCode).get();
                        if (!referrerQuery.empty) {
                            const referrerId = referrerQuery.docs[0].id;
                            await db.collection('users').doc(referrerId).update({
                                referralsCount: firebase.firestore.FieldValue.increment(1)
                            });
                        }
                    }
                    
                    currentUserId = userId;
                    subscribeToUser(userId);
                    subscribeToTransactions(userId);
                    subscribeToReferrals(userId);
                    
                    document.getElementById('authPages').style.display = 'none';
                    document.getElementById('pagesContainer').classList.add('logged-in');
                    
                    showNotif('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ØªÙ… Ø¥Ø¶Ø§ÙØ© 200 Ø¯Ø¬ Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨');
                    
                } catch (error) {
                    alert('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨: ' + error.message);
                }
            });
            
            document.getElementById('sidebarLogoutBtn')?.addEventListener('click', logout);
            
            document.getElementById('dailyBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('investBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('depositBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('withdrawBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('referralsBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('transactionsBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            document.getElementById('profileBackToHomeBtn')?.addEventListener('click', () => switchPage('home'));
            
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    const page = this.dataset.page;
                    switchPage(page);
                });
            });
            
            document.querySelectorAll('.menu-toggle-btn').forEach(btn => {
                btn.addEventListener('click', openSidebar);
            });
            document.getElementById('closeSidebarBtn')?.addEventListener('click', closeSidebar);
            document.getElementById('sidebarOverlay')?.addEventListener('click', closeSidebar);
            
            document.getElementById('actionInvestHome')?.addEventListener('click', ()=> switchPage('invest'));
            document.getElementById('actionDepositHome')?.addEventListener('click', ()=> switchPage('deposit'));
            document.getElementById('actionWithdrawHome')?.addEventListener('click', ()=> switchPage('withdraw'));
            document.getElementById('actionDailyHome')?.addEventListener('click', ()=> switchPage('daily'));
            
            document.getElementById('adminTelegramLink')?.addEventListener('click', function() {
                window.open('https://t.me/panda_admin', '_blank');
            });
            document.getElementById('groupTelegramLink')?.addEventListener('click', function() {
                window.open('https://t.me/panda_group', '_blank');
            });
            
            document.getElementById('simulationAmount')?.addEventListener('input', function(e) {
                currentInvestmentAmount = parseInt(e.target.value) || 1200;
                if (currentInvestmentAmount < 1200) currentInvestmentAmount = 1200;
                updateSimulation();
            });
            
            document.getElementById('simulateInvestBtn')?.addEventListener('click', function() {
                if (!currentUser) return;
                
                if (currentInvestmentAmount < 1200) {
                    showNotif('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± 1200 Ø¯Ø¬');
                    return;
                }
                if (currentInvestmentAmount > (currentUser.balance || 0)) {
                    showNotif('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù');
                    return;
                }
                document.getElementById('investmentModal').style.transform = 'translateY(0)';
                document.getElementById('modalOverlay').style.display = 'block';
                updateSimulation();
            });
            
            document.getElementById('closeModalBtn')?.addEventListener('click', function() {
                document.getElementById('investmentModal').style.transform = 'translateY(100%)';
                document.getElementById('modalOverlay').style.display = 'none';
            });
            document.getElementById('modalOverlay')?.addEventListener('click', function() {
                document.getElementById('investmentModal').style.transform = 'translateY(100%)';
                this.style.display = 'none';
            });
            
            document.getElementById('confirmInvestmentBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id) return;
                
                if (currentInvestmentAmount <= (currentUser.balance || 0) && currentInvestmentAmount >= 1200) {
                    try {
                        await db.collection('users').doc(currentUser.id).update({
                            balance: firebase.firestore.FieldValue.increment(-currentInvestmentAmount),
                            invested: firebase.firestore.FieldValue.increment(currentInvestmentAmount),
                            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ø£ÙˆÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø±ØŒ Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø¯ÙˆØ±Ø©
                            lastCycleStart: !currentUser.invested || currentUser.invested === 0 ? new Date() : currentUser.lastCycleStart
                        });
                        
                        await db.collection('transactions').add({
                            userId: currentUser.id,
                            type: 'Ø§Ø³ØªØ«Ù…Ø§Ø±',
                            amount: -currentInvestmentAmount,
                            date: new Date(),
                            status: 'Ù…ÙƒØªÙ…Ù„'
                        });
                        
                        if (currentUser.referredBy && !currentUser.firstInvestmentGiven) {
                            const bonus = Math.floor(currentInvestmentAmount * 0.10);
                            
                            const referrerQuery = await db.collection('users').where('referralCode', '==', currentUser.referredBy).get();
                            if (!referrerQuery.empty) {
                                const referrerId = referrerQuery.docs[0].id;
                                await db.collection('users').doc(referrerId).update({
                                    balance: firebase.firestore.FieldValue.increment(bonus),
                                    totalEarned: firebase.firestore.FieldValue.increment(bonus)
                                });
                                
                                await db.collection('transactions').add({
                                    userId: referrerId,
                                    type: 'Ø¹Ù…ÙˆÙ„Ø© Ø¥Ø­Ø§Ù„Ø©',
                                    amount: bonus,
                                    date: new Date(),
                                    status: 'Ù…ÙƒØªÙ…Ù„',
                                    note: `Ù…Ù† Ø§Ø³ØªØ«Ù…Ø§Ø± ${currentUser.email}`
                                });
                            }
                            
                            await db.collection('users').doc(currentUser.id).update({
                                firstInvestmentGiven: true
                            });
                            
                            showNotif(`Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙŠ Ø¯Ø¹Ø§Ùƒ Ø­ØµÙ„ Ø¹Ù„Ù‰ ${formatCurrency(bonus)} Ù…ÙƒØ§ÙØ£Ø© (10% Ù…Ù† Ø£ÙˆÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø±)`);
                        }
                        
                        showNotif(`Ø§Ø³ØªØ«Ù…Ø§Ø± ${formatCurrency(currentInvestmentAmount)} Ù†Ø§Ø¬Ø­`);
                        
                    } catch (error) {
                        console.error('Investment error:', error);
                        showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±');
                    }
                }
                
                document.getElementById('investmentModal').style.transform = 'translateY(100%)';
                document.getElementById('modalOverlay').style.display = 'none';
            });
            
            document.getElementById('quickTransferBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id) return;
                
                if (!currentUser.lastCycleStart) {
                    showNotif('Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹');
                    return;
                }
                
                const now = new Date();
                const lastCycle = currentUser.lastCycleStart.toDate ? currentUser.lastCycleStart.toDate() : new Date(currentUser.lastCycleStart);
                const timeSinceCycle = now - lastCycle;
                const threeHours = 3 * 60 * 60 * 1000;
                
                if (timeSinceCycle > threeHours) {
                    showNotif('Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…ØºÙ„Ù‚Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙ‚Ø· Ø®Ù„Ø§Ù„ Ø£ÙˆÙ„ 3 Ø³Ø§Ø¹Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø­');
                    return;
                }
                
                const amount = parseInt(document.getElementById('quickTransferAmount').value);
                if (amount < 100) {
                    showNotif('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªØ­ÙˆÙŠÙ„ 100 Ø¯Ø¬');
                    return;
                }
                if (amount > (currentUser.balance || 0)) {
                    showNotif('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù');
                    return;
                }
                
                try {
                    await db.collection('users').doc(currentUser.id).update({
                        balance: firebase.firestore.FieldValue.increment(-amount),
                        invested: firebase.firestore.FieldValue.increment(amount)
                    });
                    
                    await db.collection('transactions').add({
                        userId: currentUser.id,
                        type: 'ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ø³ØªØ«Ù…Ø§Ø±',
                        amount: -amount,
                        date: new Date(),
                        status: 'Ù…ÙƒØªÙ…Ù„',
                        from: 'Ù…ØªØ§Ø­',
                        to: 'Ù…Ø³ØªØ«Ù…Ø±'
                    });
                    
                    showNotif(`ØªÙ… ØªØ­ÙˆÙŠÙ„ ${formatCurrency(amount)} Ø¥Ù„Ù‰ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±`);
                    
                } catch (error) {
                    console.error('Transfer error:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„');
                }
            });
            
            document.getElementById('claimDailyBonusBtn')?.addEventListener('click', claimDailyBonus);
            
            document.getElementById('copyReferralBtn')?.addEventListener('click', function() {
                if (currentUser && currentUser.referralCode) {
                    navigator.clipboard.writeText(currentUser.referralCode);
                    showNotif('ØªÙ… Ù†Ø³Ø® ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©');
                }
            });
            
            document.getElementById('shareReferralBtn')?.addEventListener('click', function() {
                if (currentUser && currentUser.referralCode) {
                    const message = `Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©: ${currentUser.referralCode}\n10% Ù…Ù† Ø£ÙˆÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙÙ‚Ø·!`;
                    if (navigator.share) {
                        navigator.share({ title: 'The Panda', text: message });
                    } else {
                        navigator.clipboard.writeText(message);
                        showNotif('ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©');
                    }
                }
            });
            
            document.getElementById('methodBaridi')?.addEventListener('click', function() {
                document.querySelectorAll('.payment-method-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedDepositMethod = 'baridi';
            });
            
            document.getElementById('methodBinance')?.addEventListener('click', function() {
                document.querySelectorAll('.payment-method-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedDepositMethod = 'binance';
            });

            document.getElementById('depositNextBtn')?.addEventListener('click', function() {
                const amount = parseInt(document.getElementById('depositAmount').value);
                if (amount < 1000) {
                    showNotif('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¥ÙŠØ¯Ø§Ø¹ 1000 Ø¯Ø¬');
                    return;
                }
                
                document.getElementById('selectedMethodText').textContent = 
                    selectedDepositMethod === 'baridi' ? 'Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨' : 'Ø¨ÙŠÙ†Ø§Ù†Ø³ Ø¨Ø§ÙŠ';
                
                document.getElementById('depositStep1').classList.remove('active');
                document.getElementById('depositStep2').classList.add('active');
            });

            document.getElementById('depositBackBtn')?.addEventListener('click', function() {
                document.getElementById('depositStep2').classList.remove('active');
                document.getElementById('depositStep1').classList.add('active');
            });

            document.getElementById('copyAccountNumber')?.addEventListener('click', function() {
                const accountNum = document.getElementById('accountNumber').textContent;
                navigator.clipboard.writeText(accountNum);
                showNotif('ØªÙ… Ù†Ø³Ø® Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨');
            });

            document.getElementById('confirmPaymentBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id) return;
                
                const transactionId = document.getElementById('transactionId').value;
                if (!transactionId) {
                    showNotif('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©');
                    return;
                }
                
                const amount = parseInt(document.getElementById('depositAmount').value);
                
                try {
                    await db.collection('transactions').add({
                        userId: currentUser.id,
                        type: 'Ø¥ÙŠØ¯Ø§Ø¹',
                        amount: amount,
                        date: new Date(),
                        status: 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                        method: selectedDepositMethod === 'baridi' ? 'Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨' : 'Ø¨ÙŠÙ†Ø§Ù†Ø³',
                        transactionId: transactionId
                    });
                    
                    window.open('https://t.me/panda_admin', '_blank');
                    showNotif('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ù…Ø¯ÙŠØ±');
                    
                } catch (error) {
                    console.error('Deposit error:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹');
                }
            });

            document.getElementById('withdrawNextBtn')?.addEventListener('click', function() {
                withdrawAmount = parseInt(document.getElementById('withdrawAmount').value);
                if (withdrawAmount < 1000) {
                    showNotif('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø­Ø¨ 1000 Ø¯Ø¬');
                    return;
                }
                if (withdrawAmount > (currentUser?.balance || 0)) {
                    showNotif('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù');
                    return;
                }
                
                document.getElementById('withdrawStep1').classList.remove('active');
                document.getElementById('withdrawStep2').classList.add('active');
            });

            document.getElementById('withdrawBackBtn1')?.addEventListener('click', function() {
                document.getElementById('withdrawStep2').classList.remove('active');
                document.getElementById('withdrawStep1').classList.add('active');
            });

            document.getElementById('withdrawMethodBaridi')?.addEventListener('click', function() {
                document.querySelectorAll('#withdrawStep2 .payment-method-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedWithdrawMethod = 'baridi';
                document.getElementById('withdrawMethodNextBtn').disabled = false;
            });
            
            document.getElementById('withdrawMethodBinance')?.addEventListener('click', function() {
                document.querySelectorAll('#withdrawStep2 .payment-method-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedWithdrawMethod = 'binance';
                document.getElementById('withdrawMethodNextBtn').disabled = false;
            });

            document.getElementById('withdrawMethodNextBtn')?.addEventListener('click', function() {
                document.getElementById('withdrawMethodText').textContent = 
                    selectedWithdrawMethod === 'baridi' ? 'Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨' : 'Ø¨ÙŠÙ†Ø§Ù†Ø³ Ø¨Ø§ÙŠ';
                
                document.getElementById('withdrawStep2').classList.remove('active');
                document.getElementById('withdrawStep3').classList.add('active');
            });

            document.getElementById('withdrawBackBtn2')?.addEventListener('click', function() {
                document.getElementById('withdrawStep3').classList.remove('active');
                document.getElementById('withdrawStep2').classList.add('active');
            });

            document.getElementById('confirmWithdrawBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id) return;
                
                const accountNumber = document.getElementById('withdrawAccountNumber').value;
                const accountName = document.getElementById('withdrawAccountName').value;
                
                if (!accountNumber || !accountName) {
                    showNotif('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ ÙƒØ§Ù…Ù„Ø©');
                    return;
                }
                
                try {
                    await db.collection('users').doc(currentUser.id).update({
                        balance: firebase.firestore.FieldValue.increment(-withdrawAmount)
                    });
                    
                    await db.collection('transactions').add({
                        userId: currentUser.id,
                        type: 'Ø³Ø­Ø¨',
                        amount: -withdrawAmount,
                        date: new Date(),
                        status: 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                        method: selectedWithdrawMethod === 'baridi' ? 'Ø¨Ø±ÙŠØ¯ÙŠ Ù…ÙˆØ¨' : 'Ø¨ÙŠÙ†Ø§Ù†Ø³',
                        accountNumber: accountNumber,
                        accountName: accountName
                    });
                    
                    window.open('https://t.me/panda_admin', '_blank');
                    showNotif('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ù„Ù„Ù…Ø¯ÙŠØ±');
                    
                    document.getElementById('withdrawStep3').classList.remove('active');
                    document.getElementById('withdrawStep1').classList.add('active');
                    
                } catch (error) {
                    console.error('Withdraw error:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø­Ø¨');
                }
            });

            // ØµÙØ­Ø© Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„
            document.getElementById('activateCodeBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id) {
                    showNotif('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                    return;
                }
                
                const code = document.getElementById('activationCodeInput').value.trim();
                if (!code) {
                    showNotif('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø²');
                    return;
                }
                
                try {
                    const codeQuery = await db.collection('activationCodes').where('code', '==', code).get();
                    if (codeQuery.empty) {
                        showNotif('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ§Ù„Ø­');
                        return;
                    }
                    
                    const codeDoc = codeQuery.docs[0];
                    const codeData = codeDoc.data();
                    
                    if (codeData.expiresAt && codeData.expiresAt.toDate() < new Date()) {
                        showNotif('Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø²');
                        return;
                    }
                    
                    if (codeData.usedBy && codeData.usedBy.includes(currentUser.id)) {
                        showNotif('Ù„Ù‚Ø¯ Ø§Ø³ØªØ®Ø¯Ù…Øª Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ø¨Ø§Ù„ÙØ¹Ù„');
                        return;
                    }
                    
                    const usedCount = codeData.usedBy ? codeData.usedBy.length : 0;
                    if (usedCount >= (codeData.maxUses || 1)) {
                        showNotif('Ù„Ù‚Ø¯ Ø§Ø³ØªÙÙ†ÙØ¯ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø²');
                        return;
                    }
                    
                    currentActivationCodeData = {
                        id: codeDoc.id,
                        code: codeData.code,
                        value: codeData.value || 0,
                        reason: codeData.reason || 'Ù‡Ø¯ÙŠØ©',
                        maxUses: codeData.maxUses || 1,
                        usedBy: codeData.usedBy || []
                    };
                    
                    document.getElementById('codeReason').textContent = currentActivationCodeData.reason;
                    document.getElementById('codeValue').textContent = formatCurrency(currentActivationCodeData.value);
                    document.getElementById('codeRemaining').textContent = `${currentActivationCodeData.maxUses - currentActivationCodeData.usedBy.length} / ${currentActivationCodeData.maxUses}`;
                    document.getElementById('activationResult').classList.add('show');
                    document.getElementById('confirmActivationBtn').style.display = 'block';
                    
                } catch (error) {
                    console.error('Error checking activation code:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø²');
                }
            });
            
            document.getElementById('confirmActivationBtn')?.addEventListener('click', async function() {
                if (!currentUser || !currentUser.id || !currentActivationCodeData) return;
                
                try {
                    const reason = currentActivationCodeData.reason;
                    const value = currentActivationCodeData.value;
                    
                    await db.collection('users').doc(currentUser.id).update({
                        balance: firebase.firestore.FieldValue.increment(value)
                    });
                    
                    await db.collection('transactions').add({
                        userId: currentUser.id,
                        type: `ØªÙØ¹ÙŠÙ„ Ø±Ù…Ø² (${reason})`,
                        amount: value,
                        date: new Date(),
                        status: 'Ù…ÙƒØªÙ…Ù„',
                        code: currentActivationCodeData.code
                    });
                    
                    await db.collection('activationCodes').doc(currentActivationCodeData.id).update({
                        usedBy: firebase.firestore.FieldValue.arrayUnion(currentUser.id)
                    });
                    
                    showNotif(`ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±Ù…Ø² Ø¨Ù†Ø¬Ø§Ø­! ØªÙ… Ø¥Ø¶Ø§ÙØ© ${formatCurrency(value)} Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ`);
                    
                    document.getElementById('activationResult').classList.remove('show');
                    document.getElementById('confirmActivationBtn').style.display = 'none';
                    document.getElementById('activationCodeInput').value = '';
                    currentActivationCodeData = null;
                    
                } catch (error) {
                    console.error('Error activating code:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±Ù…Ø²');
                }
            });

            // Admin functions
            document.getElementById('adminGenerateCodeBtn')?.addEventListener('click', async function() {
                if (!currentUser || currentUser.email !== 'panda@hotmail.com') {
                    showNotif('ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©');
                    return;
                }
                
                const customCode = document.getElementById('adminCodeInput').value.trim();
                const value = parseInt(document.getElementById('adminCodeValue').value);
                const reason = document.getElementById('adminCodeReason').value;
                const maxUses = parseInt(document.getElementById('adminCodeUses').value);
                const expiryDate = document.getElementById('adminCodeExpiry').value;
                
                const code = customCode || 'PANDA-' + Math.random().toString(36).substring(2,10).toUpperCase();
                
                try {
                    const codeData = {
                        code: code,
                        value: value,
                        reason: reason,
                        maxUses: maxUses,
                        usedBy: [],
                        createdBy: currentUser.email,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    if (expiryDate) {
                        codeData.expiresAt = new Date(expiryDate + 'T23:59:59');
                    }
                    
                    await db.collection('activationCodes').add(codeData);
                    
                    document.getElementById('adminNewCode').textContent = code;
                    document.getElementById('adminGeneratedCode').style.display = 'block';
                    
                    loadActiveCodes();
                    
                    showNotif('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­');
                    
                } catch (error) {
                    console.error('Error creating code:', error);
                    showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ù…Ø²');
                }
            });

            document.getElementById('adminCopyNewCode')?.addEventListener('click', function() {
                const code = document.getElementById('adminNewCode').textContent;
                navigator.clipboard.writeText(code);
                showNotif('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø²');
            });

            setInterval(updateCountdown, 1000);
        });

        async function claimDailyBonus() {
            if (!currentUser || !currentUser.id) return;
            
            const today = new Date().toDateString();
            const lastBonus = currentUser.lastDailyBonus ? new Date(currentUser.lastDailyBonus.seconds * 1000).toDateString() : null;
            
            if (lastBonus === today) {
                showNotif('Ù„Ù‚Ø¯ Ø§Ø³ØªÙ„Ù…Øª Ù…ÙƒØ§ÙØ£ØªÙƒ Ø§Ù„ÙŠÙˆÙ… Ø¨Ø§Ù„ÙØ¹Ù„! Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ Ø§Ù„ØºØ¯');
                return;
            }
            
            try {
                await db.collection('users').doc(currentUser.id).update({
                    balance: firebase.firestore.FieldValue.increment(20),
                    lastDailyBonus: new Date()
                });
                
                await db.collection('transactions').add({
                    userId: currentUser.id,
                    type: 'Ù…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ©',
                    amount: 20,
                    date: new Date(),
                    status: 'Ù…ÙƒØªÙ…Ù„'
                });
                
                showNotif('ğŸ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© 20 Ø¯Ø¬ Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ!');
                
            } catch (error) {
                console.error('Daily bonus error:', error);
                showNotif('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©');
            }
        }

        async function checkDailyBonusOnLogin(userId) {
            const userDoc = await db.collection('users').doc(userId).get();
            if (!userDoc.exists) return;
            
            const user = userDoc.data();
            const today = new Date().toDateString();
            const lastBonus = user.lastDailyBonus ? new Date(user.lastDailyBonus.seconds * 1000).toDateString() : null;
        }

        function openSidebar() {
            document.getElementById('sidebar').classList.add('active');
            document.getElementById('sidebarOverlay').classList.add('active');
        }
        
        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('active');
            document.getElementById('sidebarOverlay').classList.remove('active');
        }

        function switchPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            const targetPage = document.getElementById(`page-${pageId}`);
            if (targetPage) targetPage.classList.add('active-page');
            document.querySelectorAll('.sidebar-item').forEach(item => item.classList.remove('active'));
            document.querySelector(`.sidebar-item[data-page="${pageId}"]`)?.classList.add('active');
            closeSidebar();
        }
    </script>
</body>
</html>